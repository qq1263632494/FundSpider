{
  "version": 3,
  "file": "readValue.js",
  "sourceRoot": "",
  "sources": [
    "readValue.coffee"
  ],
  "names": [],
  "mappings": ";AAAA;AAAA,MAAA,OAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KAAA,EAAA,MAAA,EAAA,SAAA,EAAA,GAAA,EAAA,GAAA,EAAA,MAAA,EAAA;;EAAA,KAAA,GAAQ,OAAA,CAAQ,YAAR;;EACR,OAAA,GAAU,OAAA,CAAQ,SAAR;;EACV,SAAA,GAAY,OAAA,CAAQ,WAAR;;EACZ,EAAA,GAAK,OAAA,CAAQ,IAAR;;EACL,MAAA,GAAS,OAAA,CAAQ,SAAR;;EAIT,GAAA,GAAM;;EACN,GAAA,GAAM;;EACN,EAAA,GAAK,IAAI,MAAM,CAAC,QAAX,CAAoB,gCAApB;;EAEL,MAAA,GAAS,QAAA,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAA;WACL,EAAE,CAAC,SAAH,CAAa,QAAA,CAAA,CAAA;AACT,UAAA;MAAA,IAAA,GAAO,EAAE,CAAC,OAAH,CAAW,qCAAX;MACP,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB,QAAA,CAAC,GAAD,CAAA;eACjB,EAAE,CAAC,SAAH,CAAa,SAAb,EAAwB,GAAxB,EAA6B;UAAC,MAAA,EAAO;QAAR,CAA7B,EAA2C,QAAA,CAAC,EAAD,CAAA,EAAA,CAA3C;MADiB,CAArB;aAEA,IAAI,CAAC,QAAL,CAAA;IAJS,CAAb;EADK;;EAMT,GAAA,GAAM,MAAA,QAAA,CAAC,EAAD,CAAA;AACF,QAAA,CAAA,EAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,KAAA,EAAA;IAAA,GAAA,GAAM,CAAA,kCAAA,CAAA,CAAqC,EAArC,CAAwC,KAAxC;IACN,OAAA,GAAU,CAAA,MAAM,SAAS,CAAC,MAAV,CAAA,CAAN;IACV,IAAA,GAAO,CAAA,MAAM,OAAO,CAAC,OAAR,CAAA,CAAN;IACP,MAAM,IAAI,CAAC,IAAL,CAAU,GAAV;IACN,IAAA,GAAO,CAAA,MAAM,IAAI,CAAC,OAAL,CAAA,CAAN;IACP,MAAM,OAAO,CAAC,KAAR,CAAA;IACN,CAAA,GAAI,CAAA,MAAM,OAAO,CAAC,IAAR,CAAa,IAAb,CAAN;IACJ,KAAA,GAAQ,CAAA,CAAE,GAAF,CAAM,CAAC,QAAP,CAAA,CAAkB,CAAA,CAAA;WAC1B,CAAA,CAAE,KAAF,CAAQ,CAAC,QAAT,CAAA,CAAmB,CAAC,IAApB,CAAyB,QAAA,CAAC,GAAD,EAAM,GAAN,CAAA;AACrB,UAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA;MAAA,GAAA,GAAM,CAAA,CAAE,GAAF,CAAM,CAAC,QAAP,CAAA,EAAN;;MAEA,GAAA,GAAM,CAAA,CAAE,GAAI,CAAA,CAAA,CAAN,CAAS,CAAC,IAAV,CAAA,EAFN;;MAIA,KAAA,GAAQ,CAAA,CAAE,GAAI,CAAA,CAAA,CAAN,CAAS,CAAC,IAAV,CAAA,CAAiB,aAJzB;;MAMA,IAAA,GAAO,CAAA,CAAE,GAAI,CAAA,CAAA,CAAN,CAAS,CAAC,IAAV,CAAA;aACP,MAAA,CAAO,EAAP,EAAW,GAAX,EAAgB,KAAhB,EAAuB,IAAvB;IARqB,CAAzB;EATE;;EAmBN,EAAE,CAAC,SAAH,CAAa,QAAA,CAAA,CAAA;WACT,EAAE,CAAC,IAAH,CAAQ,6CAAR,EAAuD,QAAA,CAAC,GAAD,EAAM,GAAN,CAAA;AACnD,UAAA;MAAA,MAAA,GAAS,GAAG,CAAC;aACb,GAAA,CAAI,MAAJ;IAFmD,CAAvD;EADS,CAAb;AArCA",
  "sourcesContent": [
    "iconv = require 'iconv-lite'\ncheerio = require 'cheerio'\npuppeteer = require 'puppeteer'\nfs = require 'fs'\nsqlite = require 'sqlite3'\n\n\n\ntgt = 'table.w782.comm.lsjz'\nreg = /d/\ndb = new sqlite.Database '/home/wang/文档/database/data.db'\n\ninsert = (t, d, v, r)->\n    db.serialize ()->\n        stmt = db.prepare 'INSERT INTO info VALUES(?, ?, ?, ?)'\n        stmt.run t, d, v, r, (err)->\n            fs.writeFile 'bug.log', err, {'flag':'a'}, (er)->\n        stmt.finalize()\nrun = (tk)->\n    url = \"http://fundf10.eastmoney.com/jjjz_#{tk}.html\"\n    browser = await puppeteer.launch()\n    page = await browser.newPage()\n    await page.goto url\n    html = await page.content()\n    await browser.close()\n    $ = await cheerio.load html\n    tbody = $(tgt).children()[1]\n    $(tbody).children().each (ind, ele)->\n        tds = $(ele).children()\n        # 日期\n        day = $(tds[0]).text()\n        # 单位净值\n        value = $(tds[1]).text()[0..5]\n        # 日增长率\n        rate = $(tds[3]).text()\n        insert(tk, day, value, rate)\n\ndb.serialize ()->\n    db.each \"SELECT ticket FROM fund LIMIT 51 OFFSET 150\", (err, row)->\n        ticket = row.ticket\n        run(ticket)"
  ]
}